$(document).on 'change', '[data-select-target]', ->
  $target = $($(this).data('selectTarget'))
  if $(this).data('selectOptions')
    $target.find('option').remove().end()
      .append('<option value="" disabled="true" selected="selected"><%= I18n.t 'please_select' %></option>')
    for option in $(this).data('selectOptions')[this.value]
      $target.append $('<option>',
        value: option.id
        text: option.name
      )
    $('#left-arrow').show()
  else
    $('#right-arrow').hide()
  $(this).parents('li').removeClass('current')
  $target.parents('li').addClass('current')
  # while target has target, hide them

$ ->
  $('#left-arrow').click ->
    $('#right-arrow').show()
    prev = $('.current').removeClass('current').prev()
    unless prev.prev()[0]
      $('#left-arrow').hide()
    prev.addClass('current')

  $('#right-arrow').click ->
    $('#left-arrow').show()
    next = $('.current').removeClass('current').next()
    unless next.next()[0]
      $('#right-arrow').hide()
    next.addClass('current')

$(document).on 'change', '[data-increase-abc]', ->
  $('.abc').addClass("increase-#{$(this).data('increaseAbc')}")
